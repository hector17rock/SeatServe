import{r as s,j as e,c as $,R as q}from"./index-CaQmlrnu.js";const d=[{id:"p1",name:"Cheese Pizza Slice",price:5.5,category:"Pizza",station:"Oven",image:"/Images/cheese-pizza-slice.png"},{id:"p2",name:"Breadsticks",price:4,category:"Sides",station:"Oven",image:"/Images/breadsticks.png"},{id:"p3",name:"Pepperoni Pizza Slice",price:6.5,category:"Pizza",station:"Oven",image:"/Images/pepperoni-pizza-slice.png"},{id:"p4",name:"Soda Small 16oz",price:2.5,category:"Drinks",station:"Beverage",image:"/Images/soda-small-16oz.png"},{id:"p5",name:"Soda Medium 21oz",price:3,category:"Drinks",station:"Beverage",image:"/Images/soda-medium-21oz.png"},{id:"p6",name:"Soda Large 32oz",price:3.5,category:"Drinks",station:"Beverage",image:"/Images/soda-large-32oz.png"},{id:"p7",name:"Bottled Water",price:2.5,category:"Drinks",station:"Beverage",image:"/Images/bottled-water.png"}],Q=["All",...Array.from(new Set(d.map(n=>n.category)))],U=["All",...Array.from(new Set(d.map(n=>n.station)))];function j(...n){return n.filter(Boolean).join(" ")}function u(n){return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(n)}const N=["Queued","Preparing","Ready","Delivered"];function G(){const[n,z]=s.useState("Menu Items"),[O]=s.useState(()=>localStorage.getItem("seatserve_user")||"Guest User"),[D]=s.useState(()=>localStorage.getItem("selected_concession_name")||"Napoli Pizza"),[p,P]=s.useState(""),[x,A]=s.useState("All"),[g,_]=s.useState("All"),[h,b]=s.useState({}),[c,M]=s.useState("Pickup"),[v,y]=s.useState(""),[S,w]=s.useState(""),[o,k]=s.useState(()=>{const t=localStorage.getItem("seatserve_orders");return t?JSON.parse(t):[]});s.useEffect(()=>{localStorage.setItem("seatserve_orders",JSON.stringify(o))},[o]),s.useEffect(()=>{},[]),s.useEffect(()=>{if(n==="Order Status"&&o.length>0){const t=setInterval(()=>{k(a=>a.map(r=>{if(r.status==="Delivered")return r;const l=N.indexOf(r.status),i=Math.min(l+1,N.length-1);return{...r,status:N[i]}}))},15e3);return()=>clearInterval(t)}},[n,o.length]);const R=s.useMemo(()=>{const t=p.trim().toLowerCase();return d.filter(a=>{const r=x==="All"||a.category===x,l=g==="All"||a.station===g,i=!t||a.name.toLowerCase().includes(t);return r&&l&&i})},[p,x,g]),m=Object.entries(h),T=m.reduce((t,[a,r])=>{const l=d.find(i=>i.id===a);return t+(l?l.price*r:0)},0);function f(t){b(a=>({...a,[t]:(a[t]||0)+1}))}function I(t){b(a=>{const r={...a};return r[t]?(r[t]-=1,r[t]<=0&&delete r[t],r):a})}function C(){b({})}function B(){if(!m.length)return;if(c==="Seat Delivery"&&!v.trim())return alert("Please enter your seat number for delivery.");const t=m.map(([r,l])=>{const i=d.find(L=>L.id===r);return{id:r,name:(i==null?void 0:i.name)||r,price:(i==null?void 0:i.price)||0,qty:l}}),a={id:`ORD-${Math.random().toString(36).slice(2,8).toUpperCase()}`,items:t,total:t.reduce((r,l)=>r+l.price*l.qty,0),fulfillment:c,seat:c==="Seat Delivery"?v.trim():null,note:S.trim()||null,status:"Queued",concession:D,createdAt:new Date().toISOString()};localStorage.setItem("latest_order",JSON.stringify(a)),k(r=>[a,...r]),C(),w(""),c==="Seat Delivery"&&y(""),window.location.href="/confirmation.html"}function E(){localStorage.removeItem("seatserve_logged_in"),localStorage.removeItem("seatserve_user"),localStorage.removeItem("selected_concession_id"),localStorage.removeItem("selected_concession_name"),window.location.href="/"}function F(){window.location.href="/concessions.html"}return e.jsxs("div",{className:"min-h-screen bg-white text-neutral-900 relative",children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-25",style:{backgroundImage:"url(/Images/napoli-pizza-logo.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"min(70vw, 70vh)",zIndex:1}}),e.jsx("header",{className:"sticky top-0 z-20 backdrop-blur bg-white/70 border-b border-neutral-300",children:e.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl overflow-hidden",children:e.jsx("img",{src:"/Images/seatserve-app-icon.png",alt:"SeatServe Logo",className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold",children:"SeatServe"}),e.jsx("div",{className:"text-xs text-neutral-500",children:"Order from your seat or pick up fast"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("nav",{className:"flex items-center gap-2 p-1 bg-blue-100 rounded-xl border border-neutral-300",children:["Menu Items","Order Status"].map(t=>e.jsx("button",{onClick:()=>z(t),className:j("px-3 py-1.5 rounded-lg text-sm transition",n===t?"bg-emerald-300 text-neutral-900":"text-neutral-600 hover:bg-neutral-200"),"aria-pressed":n===t,children:t},t))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:["Welcome, ",e.jsx("span",{className:"font-medium",children:O})]}),e.jsx("button",{onClick:F,className:"px-3 py-1.5 rounded-lg text-sm bg-emerald-300 text-neutral-900 border border-emerald-300 hover:bg-emerald-400 hover:border-emerald-400 transition",children:"Change Store"}),e.jsx("button",{onClick:E,className:"px-3 py-1.5 rounded-lg text-sm bg-emerald-300 text-neutral-900 border border-emerald-300 hover:bg-emerald-400 hover:border-emerald-400 transition",children:"Logout"})]})]})]})}),e.jsx("main",{className:"mx-auto max-w-6xl px-4 py-6 grid gap-6 relative z-10",children:n==="Menu Items"?e.jsxs("section",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("aside",{className:"md:col-span-1 space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-2xl bg-blue-100 border border-neutral-300",children:[e.jsx("h2",{className:"font-semibold mb-3",children:"Browse Menu"}),e.jsx("input",{type:"text",value:p,onChange:t=>P(t.target.value),placeholder:"Search items...",className:"w-full rounded-xl bg-white border border-neutral-300 px-3 py-2 outline-none focus:ring-2 focus:ring-emerald-400"}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[e.jsx("select",{value:x,onChange:t=>A(t.target.value),className:"rounded-xl bg-white border border-neutral-300 px-3 py-2","aria-label":"Filter by category",children:Q.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx("select",{value:g,onChange:t=>_(t.target.value),className:"rounded-xl bg-white border border-neutral-300 px-3 py-2","aria-label":"Filter by station",children:U.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"p-4 rounded-2xl bg-blue-100 border border-neutral-300",children:[e.jsx("h2",{className:"font-semibold mb-3",children:"Fulfillment"}),e.jsx("div",{className:"flex gap-2",children:["Pickup","Seat Delivery"].map(t=>e.jsx("button",{onClick:()=>M(t),className:j("px-3 py-1.5 rounded-lg text-sm border transition",c===t?"bg-emerald-300 text-neutral-900 border-emerald-300":"bg-white text-neutral-700 border-neutral-300 hover:border-neutral-500"),"aria-pressed":c===t,children:t},t))}),c==="Seat Delivery"&&e.jsx("input",{type:"text",value:v,onChange:t=>y(t.target.value),placeholder:"Section 104, Row F, Seat 12",className:"mt-3 w-full rounded-xl bg-white border border-neutral-300 px-3 py-2"})]})]}),e.jsx("section",{className:"md:col-span-2 space-y-4",children:e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(t=>e.jsxs("div",{className:"rounded-2xl border border-neutral-300 bg-white overflow-hidden flex flex-col hover:shadow-lg hover:scale-105 transition-all duration-200 cursor-pointer",children:[e.jsx("div",{className:"h-28 bg-gradient-to-br from-neutral-100 to-neutral-200 flex items-center justify-center overflow-hidden",children:t.image?e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}):null}),e.jsxs("div",{className:"p-4 pt-2 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-semibold tracking-tight",children:t.name}),e.jsx("div",{className:"text-sm text-neutral-600",children:u(t.price)})]}),e.jsxs("div",{className:"text-xs text-neutral-500",children:[t.category," ‚Ä¢ ",t.station]}),e.jsx("div",{className:"mt-auto pt-3 flex items-center gap-2",children:h[t.id]?e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx("button",{onClick:()=>I(t.id),className:"h-8 w-8 rounded-lg border border-neutral-300 hover:border-neutral-500","aria-label":`Decrease ${t.name}`,children:"‚àí"}),e.jsx("span",{className:"min-w-6 text-center",children:h[t.id]}),e.jsx("button",{onClick:()=>f(t.id),className:"h-8 w-8 rounded-lg border border-neutral-300 hover:border-neutral-500","aria-label":`Increase ${t.name}`,children:"Ôºã"})]}):e.jsx("button",{onClick:()=>f(t.id),className:"ml-auto px-3 py-1.5 rounded-lg bg-emerald-400 text-neutral-900 font-medium hover:brightness-95","aria-label":`Add ${t.name} to cart`,children:"Add"})})]})]},t.id))})}),e.jsx("section",{className:"md:col-span-3 lg:col-span-3 xl:col-span-3",children:e.jsxs("div",{className:"mt-2 p-4 rounded-2xl bg-blue-100 border border-neutral-300",children:[e.jsx("h2",{className:"font-semibold mb-3",children:"Your Cart"}),m.length===0?e.jsx("p",{className:"text-sm text-neutral-500",children:"No items yet. Add something tasty!"}):e.jsxs("div",{className:"space-y-2",children:[m.map(([t,a])=>{const r=d.find(l=>l.id===t)||{name:"",price:0};return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-neutral-700 w-36 truncate",title:r.name,children:r.name}),e.jsxs("div",{className:"text-neutral-500",children:["√ó ",a]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"font-medium",children:u(r.price*a)}),e.jsx("button",{onClick:()=>I(t),className:"h-7 w-7 rounded-lg border border-neutral-300 hover:border-neutral-500","aria-label":`Decrease ${r.name}`,children:"‚àí"}),e.jsx("button",{onClick:()=>f(t),className:"h-7 w-7 rounded-lg border border-neutral-300 hover:border-neutral-500","aria-label":`Increase ${r.name}`,children:"Ôºã"})]})]},t)}),e.jsx("textarea",{placeholder:"Add a note (no onions, extra napkins, etc.)",value:S,onChange:t=>w(t.target.value),className:"w-full rounded-xl bg-white border border-neutral-300 px-3 py-2 text-sm mt-2"}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-neutral-300",children:[e.jsx("div",{className:"text-neutral-600",children:"Total"}),e.jsx("div",{className:"text-lg font-semibold",children:u(T)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:B,className:"px-4 py-3 rounded-xl bg-gradient-to-r from-emerald-400 to-cyan-400 text-neutral-900 font-semibold hover:from-emerald-500 hover:to-cyan-500 focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2 transition duration-200",children:"Place Order"}),e.jsx("button",{onClick:C,className:"px-4 py-2 rounded-xl border border-neutral-300 hover:border-neutral-500",children:"Clear"})]})]})]})})]}):e.jsxs("section",{className:"grid md:grid-cols-3 gap-6 relative",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30 rounded-2xl overflow-hidden",style:{backgroundImage:"url(/Images/index-wallpaper.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",zIndex:1}}),e.jsx("div",{className:"md:col-span-3 relative z-10",children:e.jsxs("div",{className:"p-4 rounded-2xl bg-blue-100 border border-neutral-300 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"font-semibold",children:"Your Orders"}),e.jsxs("div",{className:"text-xs text-neutral-500",children:[o.length," order",o.length!==1?"s":""]})]}),o.length===0?e.jsx("p",{className:"text-sm text-neutral-500",children:"No orders yet. Switch to Menu Items to place your first order!"}):e.jsx("ul",{className:"space-y-3",children:o.map(t=>e.jsxs("li",{className:"rounded-xl border border-neutral-300 bg-white p-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs rounded-lg border border-neutral-300 text-neutral-700",children:t.id}),e.jsx("span",{className:"text-sm text-neutral-500",children:new Date(t.createdAt).toLocaleTimeString()})]}),e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:j("px-2 py-0.5 rounded-lg",t.status==="Queued"&&"bg-neutral-200",t.status==="Preparing"&&"bg-yellow-200 text-neutral-900",t.status==="Ready"&&"bg-emerald-300 text-neutral-900",t.status==="Delivered"&&"bg-neutral-400 text-neutral-900"),children:t.status})})]}),e.jsxs("div",{className:"mt-2 text-sm text-neutral-800",children:[t.items.map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-neutral-700",children:[a.name," ",e.jsxs("span",{className:"text-neutral-500",children:["√ó ",a.qty]})]}),e.jsx("div",{children:u(a.price*a.qty)})]},a.id)),e.jsxs("div",{className:"flex items-center justify-between mt-2 border-t border-neutral-200 pt-2",children:[e.jsxs("div",{className:"text-neutral-600",children:[t.fulfillment==="Pickup"?"Pickup at counter":`Deliver to seat: ${t.seat}`,t.note?e.jsxs("span",{className:"ml-2 text-neutral-500 italic",children:["‚Ä¢ ",t.note]}):null]}),e.jsx("div",{className:"font-semibold",children:u(t.total)})]})]}),e.jsx("div",{className:"mt-3 flex items-center gap-2",children:e.jsxs("div",{className:"text-xs text-neutral-500",children:[t.status==="Queued"&&"‚è≥ Your order is in the queue",t.status==="Preparing"&&"üë®‚Äçüç≥ Being prepared now",t.status==="Ready"&&"‚úÖ Ready for pickup!",t.status==="Delivered"&&"üéâ Order completed"]})})]},t.id))})]})})]})}),e.jsx("footer",{className:"mx-auto max-w-6xl px-4 pb-10 pt-4 text-xs text-neutral-500",children:e.jsx("div",{children:"Demo MVP ‚Ä¢ In-memory only ‚Ä¢ No backend required"})})]})}$.createRoot(document.getElementById("root")).render(e.jsx(q.StrictMode,{children:e.jsx(G,{})}));
