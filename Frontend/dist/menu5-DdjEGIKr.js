import{r as a,j as e,c as q,R as B}from"./index-CaQmlrnu.js";const d=[{id:"p1",name:"Small Cup 1 Scoop",price:3.5,category:"Ice Cream",station:"Freezer",image:"/Images/small-cup-1-scoop.png"},{id:"p2",name:"Medium Cup 2 Scoops",price:5,category:"Ice Cream",station:"Freezer",image:"/Images/medium-cup-2-scoops.png"},{id:"p3",name:"Large Cup 3 Scoops",price:6.5,category:"Ice Cream",station:"Freezer",image:"/Images/large-cup-3-scoops.png"},{id:"p4",name:"Cone",price:4,category:"Ice Cream",station:"Freezer",image:"/Images/cone.png"}],Q=["All",...Array.from(new Set(d.map(n=>n.category)))],U=["All",...Array.from(new Set(d.map(n=>n.station)))];function j(...n){return n.filter(Boolean).join(" ")}function u(n){return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(n)}const N=["Queued","Preparing","Ready","Delivered"];function G(){const[n,O]=a.useState("Menu Items"),[A]=a.useState(()=>localStorage.getItem("seatserve_user")||"Guest User"),[D]=a.useState(()=>localStorage.getItem("selected_concession_name")||"Sweet Scoops"),[g,_]=a.useState(""),[x,M]=a.useState("All"),[p,P]=a.useState("All"),[h,b]=a.useState({}),[i,R]=a.useState("Pickup"),[v,y]=a.useState(""),[S,w]=a.useState(""),[c,I]=a.useState(()=>{const t=localStorage.getItem("seatserve_orders");return t?JSON.parse(t):[]});a.useEffect(()=>{localStorage.setItem("seatserve_orders",JSON.stringify(c))},[c]),a.useEffect(()=>{},[]),a.useEffect(()=>{if(n==="Order Status"&&c.length>0){const t=setInterval(()=>{I(s=>s.map(r=>{if(r.status==="Delivered")return r;const l=N.indexOf(r.status),o=Math.min(l+1,N.length-1);return{...r,status:N[o]}}))},15e3);return()=>clearInterval(t)}},[n,c.length]);const F=a.useMemo(()=>{const t=g.trim().toLowerCase();return d.filter(s=>{const r=x==="All"||s.category===x,l=p==="All"||s.station===p,o=!t||s.name.toLowerCase().includes(t);return r&&l&&o})},[g,x,p]),m=Object.entries(h),T=m.reduce((t,[s,r])=>{const l=d.find(o=>o.id===s);return t+(l?l.price*r:0)},0);function f(t){b(s=>({...s,[t]:(s[t]||0)+1}))}function C(t){b(s=>{const r={...s};return r[t]?(r[t]-=1,r[t]<=0&&delete r[t],r):s})}function k(){b({})}function z(){if(!m.length)return;if(i==="Seat Delivery"&&!v.trim())return alert("Please enter your seat number for delivery.");const t=m.map(([r,l])=>{const o=d.find($=>$.id===r);return{id:r,name:(o==null?void 0:o.name)||r,price:(o==null?void 0:o.price)||0,qty:l}}),s={id:`ORD-${Math.random().toString(36).slice(2,8).toUpperCase()}`,items:t,total:t.reduce((r,l)=>r+l.price*l.qty,0),fulfillment:i,seat:i==="Seat Delivery"?v.trim():null,note:S.trim()||null,status:"Queued",concession:D,createdAt:new Date().toISOString()};localStorage.setItem("latest_order",JSON.stringify(s)),I(r=>[s,...r]),k(),w(""),i==="Seat Delivery"&&y(""),window.location.href="/confirmation.html"}function E(){localStorage.removeItem("seatserve_logged_in"),localStorage.removeItem("seatserve_user"),localStorage.removeItem("selected_concession_id"),localStorage.removeItem("selected_concession_name"),window.location.href="/"}function L(){window.location.href="/concessions.html"}return e.jsxs("div",{className:"min-h-screen bg-white text-neutral-900 relative",children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-25",style:{backgroundImage:"url(/Images/sweet-scoops-logo.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"min(70vw, 70vh)",zIndex:1}}),e.jsx("header",{className:"sticky top-0 z-20 backdrop-blur bg-white/70 border-b border-neutral-300",children:e.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl overflow-hidden",children:e.jsx("img",{src:"/Images/seatserve-app-icon.png",alt:"SeatServe Logo",className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold",children:"SeatServe"}),e.jsx("div",{className:"text-xs text-neutral-500",children:"Order from your seat or pick up fast"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("nav",{className:"flex items-center gap-2 p-1 bg-blue-100 rounded-xl border border-neutral-300",children:["Menu Items","Order Status"].map(t=>e.jsx("button",{onClick:()=>O(t),className:j("px-3 py-1.5 rounded-lg text-sm transition",n===t?"bg-emerald-300 text-neutral-900":"text-neutral-600 hover:bg-neutral-200"),"aria-pressed":n===t,children:t},t))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:["Welcome, ",e.jsx("span",{className:"font-medium",children:A})]}),e.jsx("button",{onClick:L,className:"px-3 py-1.5 rounded-lg text-sm bg-emerald-300 text-neutral-900 border border-emerald-300 hover:bg-emerald-400 hover:border-emerald-400 transition",children:"Change Store"}),e.jsx("button",{onClick:E,className:"px-3 py-1.5 rounded-lg text-sm bg-emerald-300 text-neutral-900 border border-emerald-300 hover:bg-emerald-400 hover:border-emerald-400 transition",children:"Logout"})]})]})]})}),e.jsx("main",{className:"mx-auto max-w-6xl px-4 py-6 grid gap-6 relative z-10",children:n==="Menu Items"?e.jsxs("section",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("aside",{className:"md:col-span-1 space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-2xl bg-blue-100 border border-neutral-300",children:[e.jsx("h2",{className:"font-semibold mb-3",children:"Browse Menu"}),e.jsx("input",{type:"text",value:g,onChange:t=>_(t.target.value),placeholder:"Search items...",className:"w-full rounded-xl bg-white border border-neutral-300 px-3 py-2 outline-none focus:ring-2 focus:ring-emerald-400"}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[e.jsx("select",{value:x,onChange:t=>M(t.target.value),className:"rounded-xl bg-white border border-neutral-300 px-3 py-2","aria-label":"Filter by category",children:Q.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx("select",{value:p,onChange:t=>P(t.target.value),className:"rounded-xl bg-white border border-neutral-300 px-3 py-2","aria-label":"Filter by station",children:U.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"p-4 rounded-2xl bg-blue-100 border border-neutral-300",children:[e.jsx("h2",{className:"font-semibold mb-3",children:"Fulfillment"}),e.jsx("div",{className:"flex gap-2",children:["Pickup","Seat Delivery"].map(t=>e.jsx("button",{onClick:()=>R(t),className:j("px-3 py-1.5 rounded-lg text-sm border transition",i===t?"bg-emerald-300 text-neutral-900 border-emerald-300":"bg-white text-neutral-700 border-neutral-300 hover:border-neutral-500"),"aria-pressed":i===t,children:t},t))}),i==="Seat Delivery"&&e.jsx("input",{type:"text",value:v,onChange:t=>y(t.target.value),placeholder:"Section 104, Row F, Seat 12",className:"mt-3 w-full rounded-xl bg-white border border-neutral-300 px-3 py-2"})]})]}),e.jsx("section",{className:"md:col-span-2 space-y-4",children:e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(t=>e.jsxs("div",{className:"rounded-2xl border border-neutral-300 bg-white overflow-hidden flex flex-col hover:shadow-lg hover:scale-105 transition-all duration-200 cursor-pointer",children:[e.jsx("div",{className:"h-28 bg-gradient-to-br from-neutral-100 to-neutral-200 flex items-center justify-center overflow-hidden",children:t.image?e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}):null}),e.jsxs("div",{className:"p-4 pt-2 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-semibold tracking-tight",children:t.name}),e.jsx("div",{className:"text-sm text-neutral-600",children:u(t.price)})]}),e.jsxs("div",{className:"text-xs text-neutral-500",children:[t.category," ‚Ä¢ ",t.station]}),e.jsx("div",{className:"mt-auto pt-3 flex items-center gap-2",children:h[t.id]?e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx("button",{onClick:()=>C(t.id),className:"h-8 w-8 rounded-lg border border-neutral-300 hover:border-neutral-500","aria-label":`Decrease ${t.name}`,children:"‚àí"}),e.jsx("span",{className:"min-w-6 text-center",children:h[t.id]}),e.jsx("button",{onClick:()=>f(t.id),className:"h-8 w-8 rounded-lg border border-neutral-300 hover:border-neutral-500","aria-label":`Increase ${t.name}`,children:"Ôºã"})]}):e.jsx("button",{onClick:()=>f(t.id),className:"ml-auto px-3 py-1.5 rounded-lg bg-emerald-400 text-neutral-900 font-medium hover:brightness-95","aria-label":`Add ${t.name} to cart`,children:"Add"})})]})]},t.id))})}),e.jsx("section",{className:"md:col-span-3 lg:col-span-3 xl:col-span-3",children:e.jsxs("div",{className:"mt-2 p-4 rounded-2xl bg-blue-100 border border-neutral-300",children:[e.jsx("h2",{className:"font-semibold mb-3",children:"Your Cart"}),m.length===0?e.jsx("p",{className:"text-sm text-neutral-500",children:"No items yet. Add something tasty!"}):e.jsxs("div",{className:"space-y-2",children:[m.map(([t,s])=>{const r=d.find(l=>l.id===t)||{name:"",price:0};return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-neutral-700 w-36 truncate",title:r.name,children:r.name}),e.jsxs("div",{className:"text-neutral-500",children:["√ó ",s]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"font-medium",children:u(r.price*s)}),e.jsx("button",{onClick:()=>C(t),className:"h-7 w-7 rounded-lg border border-neutral-300 hover:border-neutral-500","aria-label":`Decrease ${r.name}`,children:"‚àí"}),e.jsx("button",{onClick:()=>f(t),className:"h-7 w-7 rounded-lg border border-neutral-300 hover:border-neutral-500","aria-label":`Increase ${r.name}`,children:"Ôºã"})]})]},t)}),e.jsx("textarea",{placeholder:"Add a note (no onions, extra napkins, etc.)",value:S,onChange:t=>w(t.target.value),className:"w-full rounded-xl bg-white border border-neutral-300 px-3 py-2 text-sm mt-2"}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-neutral-300",children:[e.jsx("div",{className:"text-neutral-600",children:"Total"}),e.jsx("div",{className:"text-lg font-semibold",children:u(T)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:z,className:"px-4 py-3 rounded-xl bg-gradient-to-r from-emerald-400 to-cyan-400 text-neutral-900 font-semibold hover:from-emerald-500 hover:to-cyan-500 focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2 transition duration-200",children:"Place Order"}),e.jsx("button",{onClick:k,className:"px-4 py-2 rounded-xl border border-neutral-300 hover:border-neutral-500",children:"Clear"})]})]})]})})]}):e.jsxs("section",{className:"grid md:grid-cols-3 gap-6 relative",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30 rounded-2xl overflow-hidden",style:{backgroundImage:"url(/Images/index-wallpaper.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",zIndex:1}}),e.jsx("div",{className:"md:col-span-3 relative z-10",children:e.jsxs("div",{className:"p-4 rounded-2xl bg-blue-100 border border-neutral-300 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"font-semibold",children:"Your Orders"}),e.jsxs("div",{className:"text-xs text-neutral-500",children:[c.length," order",c.length!==1?"s":""]})]}),c.length===0?e.jsx("p",{className:"text-sm text-neutral-500",children:"No orders yet. Switch to Menu Items to place your first order!"}):e.jsx("ul",{className:"space-y-3",children:c.map(t=>e.jsxs("li",{className:"rounded-xl border border-neutral-300 bg-white p-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs rounded-lg border border-neutral-300 text-neutral-700",children:t.id}),e.jsx("span",{className:"text-sm text-neutral-500",children:new Date(t.createdAt).toLocaleTimeString()})]}),e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:j("px-2 py-0.5 rounded-lg",t.status==="Queued"&&"bg-neutral-200",t.status==="Preparing"&&"bg-yellow-200 text-neutral-900",t.status==="Ready"&&"bg-emerald-300 text-neutral-900",t.status==="Delivered"&&"bg-neutral-400 text-neutral-900"),children:t.status})})]}),e.jsxs("div",{className:"mt-2 text-sm text-neutral-800",children:[t.items.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-neutral-700",children:[s.name," ",e.jsxs("span",{className:"text-neutral-500",children:["√ó ",s.qty]})]}),e.jsx("div",{children:u(s.price*s.qty)})]},s.id)),e.jsxs("div",{className:"flex items-center justify-between mt-2 border-t border-neutral-200 pt-2",children:[e.jsxs("div",{className:"text-neutral-600",children:[t.fulfillment==="Pickup"?"Pickup at counter":`Deliver to seat: ${t.seat}`,t.note?e.jsxs("span",{className:"ml-2 text-neutral-500 italic",children:["‚Ä¢ ",t.note]}):null]}),e.jsx("div",{className:"font-semibold",children:u(t.total)})]})]}),e.jsx("div",{className:"mt-3 flex items-center gap-2",children:e.jsxs("div",{className:"text-xs text-neutral-500",children:[t.status==="Queued"&&"‚è≥ Your order is in the queue",t.status==="Preparing"&&"üë®‚Äçüç≥ Being prepared now",t.status==="Ready"&&"‚úÖ Ready for pickup!",t.status==="Delivered"&&"üéâ Order completed"]})})]},t.id))})]})})]})}),e.jsx("footer",{className:"mx-auto max-w-6xl px-4 pb-10 pt-4 text-xs text-neutral-500",children:e.jsx("div",{children:"Demo MVP ‚Ä¢ In-memory only ‚Ä¢ No backend required"})})]})}q.createRoot(document.getElementById("root")).render(e.jsx(B.StrictMode,{children:e.jsx(G,{})}));
